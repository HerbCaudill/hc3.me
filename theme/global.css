@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  .splat-underline {
    @apply group-hover:bg-splat-red hover:bg-splat-red bg-bottom bg-underline bg-no-repeat;
  }

  article {
    @apply text-base sm:text-lg font-serif font-regular;
  }

  article p {
    @apply my-5 leading-relaxed;
  }

  article h2 {
    @apply text-3xl font-sans font-bold mt-16 tracking-tight;
  }

  article h3 {
    @apply text-2xl font-sans font-bold mt-12 tracking-tight;
  }

  article a:hover {
    @apply text-red-700 bg-splat-red;
  }

  article pre {
    @apply my-5 p-3 border border-gray-300 bg-gray-50;
    @apply text-2xs md:text-xs font-mono leading-relaxed tracking-tight md:tracking-normal lg:tracking-wide overflow-x-auto;
  }

  article p strong {
    @apply font-sans font-semibold;
  }

  article hr {
    @apply bg-transparent border-t-12 border-black my-16 w-1/6;
  }

  article a {
    @apply bg-splat-black bg-bottom bg-underline bg-no-repeat;
  }

  article ul li {
    @apply list-square list-outside ml-6 leading-relaxed;
  }

  article blockquote {
    @apply my-6 p-5 border border-gray-400 text-sm sm:text-base;
  }

  article blockquote p {
    @apply m-0; /* No additional margin at beginning or end of blockquote  */
  }

  article blockquote p + p {
    @apply mt-5; /* normal margin between paragraphs inside a blockquote */
  }

  article div:not(.image) > p img {
    @apply -mx-5 my-7 w-screen max-w-none md:mx-0 md:w-auto md:max-w-full;
  }

  .caption {
    @apply font-mono text-2xs md:text-xs text-left leading-loose;
  }

  .caption i {
    @apply whitespace-nowrap;
  }

  .image {
    @apply my-7 -mx-5;
    @apply md:mx-0;
    @apply lg:grid lg:grid-cols-9 lg:gap-5 lg:w-9/7;
  }

  .image-lg {
    @apply md:mx-0 md:grid md:grid-cols-12 md:gap-5;
    @apply md:-ml-3/9 md:w-12/9;
    @apply lg:-ml-3/7 lg:w-12/7;
  }

  .image :first-child {
    @apply lg:col-span-7 lg:mt-0;
  }

  .image pre {
  }

  .image-lg :first-child {
    @apply md:col-span-12;
  }

  .image img {
    @apply w-full;
  }

  .image p:nth-child(2) {
    @apply caption;
    @apply px-5;
    @apply md:px-0 lg:mt-0 lg:col-span-2 lg:leading-normal;
  }

  .image p:nth-child(2) span {
    @apply inline lg:block; /* break spans up in lg, where the caption is in the sidebar */
  }
}
